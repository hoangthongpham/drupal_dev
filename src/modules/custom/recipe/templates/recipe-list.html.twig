{% extends "html.html.twig" %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">Danh Sách Bài Viết</h1>
  <a href="{{ url('recipe.add') }}" class="btn btn-primary mb-3">Thêm Bài Viết</a>

  <div class="list-group">
    {% for recipe in recipes %}
      <div class="list-group-item">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h5 class="mb-1">{{ recipe.title }}</h5>
            <p class="mb-1">{{ recipe.body }}</p>
          </div>
          <div>
            <a href="{{ recipe.edit_url }}" class="btn btn-sm btn-warning">Sửa</a>
            <a href="{{ recipe.delete_url }}" class="btn btn-sm btn-danger">Xóa</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

  <h1>Danh sách công thức</h1>
  <a href="{{ url('recipe.add') }}" class="btn btn-primary">Thêm mới</a>
  <table id="recipe-table" class="display">
    <thead>
      <tr>
        <th>Title</th>
        <th>Chi tiết</th>
        <th>Sửa</th>
        <th>Xóa</th>
      </tr>
    </thead>
    <tbody>
      {% for recipe in recipes %}
        <tr>
          <td>{{ recipe.title }}</td>
          <td><a href="{{ url('recipe.detail', {'id': recipe.id}) }}">Chi tiết</a></td>
          <td><a href="{{ url('recipe.edit', {'id': recipe.id}) }}">Sửa</a></td>
          <td><a href="{{ url('recipe.delete', {'id': recipe.id}) }}" class="delete-link">Xóa</a></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {{ attach_library('recipe.datatable') }}
{% endblock %}